<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<h2>Hello World!</h2>
<div id="query"></div>
<div id="testDataSource"></div>
<a href="TestServlet" id="al">调到testServlet</a></br>
<input type="text" value="" id="loggerName"/><input type="button" value="确定" onclick="changeLogLevel();"/>
<input type="button" value="打印日志" onclick="printLog();"/>
</body>
<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
<script type="text/javascript">
	$(function() {
		var url = 'user/query.do';
		show(url,'query');
		url = 'user/testDataSource.do';
		show(url,'testDataSource');
	});
	
	function show(url,id) {
		$.ajax({  
	        "type" : "get",  
	        "url" : url,  
	        "data" : {},  
	        "async" : true,  
	        "success" : function(data) {
	        	var name = '';
	        	for(var i = 0 ; i < data.length; i++ )
	        		name += data[i];
	        	$("#" + id).html(name);
	        }
	    });
	}
	
	function changeLogLevel() {
		var loggerName = $("#loggerName").val();
		url = 'log/changeLogLevel.do';
		$.ajax({  
	        "type" : "get",  
	        "url" : url,  
	        "data" : {"loggerName" : loggerName, 'logLevel' : 'debug'},  
	        "async" : true,  
	        "success" : function(data) {
	        	alert(data);
	        }
	    });
	}
	
	function printLog() {
		url = 'log/printLog.do';
		$.ajax({  
	        "type" : "get",  
	        "url" : url,  
	        "data" : {},  
	        "async" : true,  
	        "success" : function(data) {
	        }
	    });
	}
	
</script>
</html>
